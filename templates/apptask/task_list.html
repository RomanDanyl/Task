{% extends "base.html" %}

{% block content %}
  <h1>
    Task list
    <a href="{% url 'apptask:task-create' %}" class="btn btn-primary link-to-page">
      Create
    </a>
  </h1>

    <ul>
        {% for task in task_list %}
            <li>
                <strong>{{ task.content }}</strong> - {{ task.datetime }} - Deadline: {{ task.deadline }}
                {% if task.done %}
                    <span style="color: green;">(Done)</span>
                    <button onclick="location.href='{% url 'apptask:task-toggle-status' task.id %}'">Undo</button>
                {% else %}
                    <span style="color: red;">(Not Done)</span>
                    <button onclick="location.href='{% url 'apptask:task-toggle-status' task.id %}'">Complete</button>
                {% endif %}
                <a href="{% url 'apptask:task-update' task.id %}">Update</a>
                <a href="{% url 'apptask:task-delete' task.id %}">Delete</a>
            </li>
        {% endfor %}
    </ul>
{% endblock %}